(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),i=n.n(a),r=n(7),o=n.n(r),s=(n(17),n(8)),l=n(9),u=n(11),m=n(10),j=0,f=1,p=["O","X"],h=0,d=1,x=n(6),y=n(3),b=function(e){return e.map((function(e,t){return[e,t]})).filter((function(e){return null===e[0]}))},v=function(e){return b(e).length>0},g=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var c=Object(y.a)(t[n],3),a=c[0],i=c[1],r=c[2];if(null!==e[a]&&e[a]===e[i]&&e[a]===e[r])return{position:n>=0&&n<=2?"h h".concat(n):n>=3&&n<=5?"v v".concat(n-3):"d".concat(n-6),iconType:e[a],isTie:null}}return{position:"",iconType:null,isTie:!v(e)||null}},O=function(e,t){return e+Math.floor(Math.random()*(t-e))},T=function(e,t,n){return[].concat(Object(x.a)(e.slice(0,t)),[n],Object(x.a)(e.slice(t+1,e.length)))},S=function(e){var t=b(e);return t.length>0?t[O(0,t.length)][1]:null},N=function e(t,n,c,a){var i=function(e,t){for(var n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],c=0;c<n.length;c++){var a=Object(y.a)(n[c],3),i=a[0],r=a[1],o=a[2];if(null!==e[i]&&e[i]===e[r]&&e[i]===e[o])return e[i]===t?10:-10}return 0}(t,c);if(10===i)return i-n;if(-10===i)return i+n;if(!v(t))return 0;var r,o=t.length;if(a){r=-1e3;for(var s=0;s<o;s++){if(null===t[s]){var l=T(t,s,c);r=Math.max(r,e(l,n+1,c,!a))}}}else{r=1e3;for(var u=0;u<o;u++){if(null===t[u]){var m=T(t,u,1-c);r=Math.min(r,e(m,n+1,c,!a))}}}return r},I=function(e,t){for(var n=-1e3,c=null,a=e.length,i=0;i<a;i++){if(null===e[i]){var r=T(e,i,t),o=N(r,0,t,!1);o>n&&(n=o,c=i)}}return c},w=500,C=i.a.createContext(),P=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).initState={gameType:j,currentIcon:0,playerTurn:0,cells:new Array(9).fill(null),gameState:{position:"",iconType:null,isTie:null},step:1},e.state={gameType:e.initState.gameType,currentIcon:e.initState.currentIcon,playerTurn:e.initState.playerTurn,cells:e.initState.cells,gameState:e.initState.gameState,step:e.initState.step,changeType:function(t,n,c){e.setState({step:n}),e.state.gameType!==t&&e.initNewGame(t,c)},humanPlay:function(t){e.humanPlay(t)},newGame:function(){e.initNewGame(e.state.gameType)},setIcon:function(t){e.setIconData(t)}},e.setIcon=function(t){e.setState({currentIcon:t})},e.initGame=function(){e.state.gameType===f&&e.state.playerTurn===d&&(e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout((function(){var t=S(e.state.cells);e.computerPlay(t)}),w))},e.initNewGame=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.initState.gameType,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.setState((function(){return{gameType:t,currentIcon:n,playerTurn:O(0,2),cells:e.initState.cells,gameState:e.initState.gameState}}),(function(){e.initGame()}))},e.applyState=function(e,t){var n=e.cells,c=1-e.currentIcon,a=1-e.playerTurn,i=T(n,t,e.currentIcon);return{gameState:g(i),currentIcon:c,playerTurn:a,cells:i}},e.humanPlay=function(t){""!==e.state.gameState.position||null!==e.state.cells[t]||e.state.gameType!==j&&e.state.playerTurn!==h||e.setState((function(n){return e.applyState(n,t)}),(function(){""===e.state.gameState.position&&e.state.gameType===f&&e.state.playerTurn===d&&setTimeout((function(){e.makeAIMove()}),w)}))},e.computerPlay=function(t){""===e.state.gameState.position&&null===e.state.cells[t]&&e.state.gameType===f&&e.state.playerTurn===d&&e.setState((function(n){return e.applyState(n,t)}))},e.makeAIMove=function(){var t=I(e.state.cells,e.state.currentIcon);null!==t&&e.computerPlay(t)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.initGame()}},{key:"render",value:function(){return Object(c.jsx)(C.Provider,{value:this.state,children:this.props.children})}}]),n}(a.Component),k=(n(18),function(e){var t=e.index,n=e.context,a=n.cells[t],i=null!==a?p[a]:"",r=""!==i?"done":"";return Object(c.jsx)("button",{className:"cell cell-".concat(t," ").concat(r),onClick:function(){return n.humanPlay(t)},children:i})}),G=function(e){var t=e.context,n=Object(a.useRef)(null),i="",r=t.currentIcon;return Object(a.useEffect)((function(){""!==t.gameState.position?setTimeout((function(){n.current.classList.add("full")}),50):n.current.classList.remove("full")}),[t.gameState.position]),i=t.gameState.isTie?"Tie!":t.gameType===j?""===t.gameState.position?"It's player(".concat(p[r],") turn"):"Player(".concat(p[1-r],") wins!"):""===t.gameState.position?t.playerTurn===h?"It's your turn":"It's computer turn":t.playerTurn===h?"Computer win!":"You win!",Object(c.jsxs)("main",{className:"main",children:[Object(c.jsx)("div",{className:"new-game",children:Object(c.jsx)("button",{className:"btn",onClick:function(){return t.newGame()},children:"New Game"})}),Object(c.jsxs)("div",{className:"board ".concat(t.gameState.position),ref:n,children:[Object(c.jsxs)("div",{className:"board-row",children:[Object(c.jsx)(k,{context:t,index:0}),Object(c.jsx)(k,{context:t,index:1}),Object(c.jsx)(k,{context:t,index:2})]}),Object(c.jsxs)("div",{className:"board-row",children:[Object(c.jsx)(k,{context:t,index:3}),Object(c.jsx)(k,{context:t,index:4}),Object(c.jsx)(k,{context:t,index:5})]}),Object(c.jsxs)("div",{className:"board-row",children:[Object(c.jsx)(k,{context:t,index:6}),Object(c.jsx)(k,{context:t,index:7}),Object(c.jsx)(k,{context:t,index:8})]})]}),Object(c.jsx)("div",{className:"info",children:i})]})},M=(n(19),function(e){var t=e.context,n=Object(a.useState)({step:1,text:"Choose Your Play Mode",history:null}),i=Object(y.a)(n,2),r=i[0],o=i[1],s=function(e){o({step:2,history:e,text:"Pick Your Side"})};return Object(c.jsxs)("div",{className:"choice",children:[Object(c.jsx)("h1",{children:r.text}),1===r.step?Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{onClick:function(){return s(j)},className:"2 Players"===t.gameType?"active":"",children:"With a friend"}),Object(c.jsx)("li",{onClick:function(){return s(f)},className:"Versus Computer"===t.gameType?"active":"",children:"With AI"})]}):Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{onClick:function(){return t.changeType(r.history,2,1)},className:"2 Players"===t.gameType?"active":"",children:"X"}),Object(c.jsx)("li",{onClick:function(){return t.changeType(r.history,2,0)},className:"Versus Computer"===t.gameType?"active":"",children:"0"})]})]})});n(20);var A=function(){var e=function(){var e=Object(a.useContext)(C);if(void 0===e)throw new Error("useContext Not Defined!");return e}();return Object(c.jsxs)("div",{className:"layout",children:[1===e.step&&Object(c.jsx)(M,{context:e}),2===e.step&&Object(c.jsx)(G,{context:e})]})};var D=function(){return Object(c.jsx)(P,{children:Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)("header",{children:Object(c.jsx)("h1",{className:"text-center",children:"Tic Tac Toe"})}),Object(c.jsx)(A,{})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(D,{})}),document.getElementById("root")),F()}},[[21,1,2]]]);
//# sourceMappingURL=main.11cc9224.chunk.js.map